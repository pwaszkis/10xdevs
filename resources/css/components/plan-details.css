/* Plan Details View - Custom Styles */

/* ========================================
   Plan Header
   ======================================== */
.plan-header {
    @apply bg-white rounded-lg shadow-md p-6 mb-6;
}

.plan-header h1 {
    @apply text-3xl font-bold text-gray-900 mb-4;
}

.plan-header .metadata {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4;
}

.plan-header .metadata-item {
    @apply flex items-center gap-2 text-gray-700;
}

/* Status Badges */
.status-badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium;
}

.status-badge.draft {
    @apply bg-gray-100 text-gray-800;
}

.status-badge.planned {
    @apply bg-blue-100 text-blue-800;
}

.status-badge.completed {
    @apply bg-green-100 text-green-800;
}

/* ========================================
   Assumptions Section
   ======================================== */
.assumptions-section {
    @apply bg-gray-50 rounded-lg p-6 mb-6;
}

.assumptions-toggle {
    @apply flex items-center justify-between w-full text-left font-medium text-gray-900 hover:text-blue-600 transition;
}

.assumptions-content {
    @apply mt-4 space-y-4;
}

.preference-badges {
    @apply flex flex-wrap gap-2;
}

.preference-badge {
    @apply inline-flex items-center gap-2 px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm;
}

/* ========================================
   Plan Days (Accordion)
   ======================================== */
.plan-day-card {
    @apply bg-white rounded-lg shadow-md mb-4 overflow-hidden;
}

.day-header {
    @apply flex items-center justify-between w-full p-4 text-left hover:bg-gray-50 transition cursor-pointer;
}

.day-header h3 {
    @apply text-xl font-semibold text-gray-900;
}

.day-content {
    @apply p-4 bg-gray-50 border-t border-gray-200;
}

.day-part-section {
    @apply mb-6 last:mb-0;
}

.day-part-section h4 {
    @apply text-lg font-medium text-gray-700 mb-3;
}

/* ========================================
   Plan Points (Expandable Cards)
   ======================================== */
.plan-point-card {
    @apply bg-white rounded-lg shadow-sm p-4 mb-3 cursor-pointer hover:shadow-md transition;
}

.plan-point-card.expanded {
    @apply shadow-md;
}

.point-collapsed {
    @apply flex items-center justify-between;
}

.point-collapsed h4 {
    @apply text-base font-medium text-gray-900;
}

.day-part-icon {
    @apply text-2xl mr-3;
}

.duration {
    @apply text-sm text-gray-500;
}

.point-expanded {
    @apply mt-4 space-y-3;
}

.point-expanded .description {
    @apply text-gray-700;
}

.point-expanded .justification {
    @apply text-sm italic text-gray-600;
}

.point-expanded .metadata {
    @apply flex items-center gap-4 text-sm text-gray-600;
}

.maps-link {
    @apply text-blue-600 hover:text-blue-800 underline;
}

/* ========================================
   Feedback Form
   ======================================== */
.feedback-section {
    @apply bg-white rounded-lg shadow-md p-6 mb-6;
}

.feedback-toggle {
    @apply w-full text-left font-medium text-blue-600 hover:text-blue-800 transition;
}

.feedback-form {
    @apply space-y-4;
}

.satisfaction-buttons {
    @apply flex gap-4;
}

.satisfaction-buttons button {
    @apply flex-1 py-3 px-4 rounded-lg border-2 border-gray-300 hover:border-blue-500 transition text-center;
}

.satisfaction-buttons button.active {
    @apply border-blue-500 bg-blue-50;
}

.issues-checkboxes {
    @apply space-y-2;
}

.issues-checkboxes label {
    @apply flex items-center gap-2 text-gray-700 cursor-pointer hover:text-gray-900;
}

.issues-checkboxes textarea {
    @apply w-full mt-2 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent;
}

/* ========================================
   Plan Actions
   ======================================== */
.plan-actions {
    @apply flex flex-col sm:flex-row gap-4;
}

.btn-primary {
    @apply px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition;
}

.btn-secondary {
    @apply px-6 py-3 bg-gray-200 text-gray-800 font-medium rounded-lg hover:bg-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed transition;
}

.btn-destructive {
    @apply px-6 py-3 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition;
}

/* ========================================
   Modals
   ======================================== */
.modal-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50;
}

.modal-content {
    @apply bg-white rounded-lg p-6 max-w-md w-full mx-4;
}

.modal-actions {
    @apply flex gap-4 mt-6;
}

/* ========================================
   Generation Overlay
   ======================================== */
.generation-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50;
}

.generation-modal {
    @apply bg-white rounded-lg p-8 max-w-md w-full text-center;
}

.spinner {
    @apply w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4;
}

.progress-bar {
    @apply w-full h-2 bg-gray-200 rounded-full overflow-hidden;
}

.progress-fill {
    @apply h-full bg-blue-600 transition-all duration-300;
}

/* ========================================
   Animations
   ======================================== */
@keyframes slideInRight {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes slideOutRight {
    from {
        transform: translateX(0);
        opacity: 1;
    }
    to {
        transform: translateX(100%);
        opacity: 0;
    }
}

.flash-notification {
    animation: slideInRight 300ms ease-out;
}

.flash-notification.hiding {
    animation: slideOutRight 300ms ease-in;
}

/* ========================================
   Responsive Adjustments
   ======================================== */
@media (max-width: 640px) {
    .plan-header h1 {
        @apply text-2xl;
    }

    .plan-header .metadata {
        @apply grid-cols-1;
    }

    .plan-actions {
        @apply flex-col;
    }

    .plan-actions button {
        @apply w-full;
    }

    .satisfaction-buttons {
        @apply flex-col;
    }

    .day-header h3 {
        @apply text-lg;
    }

    .point-collapsed h4 {
        @apply text-sm;
    }
}

/* ========================================
   Accessibility Enhancements
   ======================================== */
/* Focus visible states */
.assumptions-toggle:focus-visible,
.day-header:focus-visible,
.plan-point-card:focus-visible {
    @apply outline-2 outline-offset-2 outline-blue-600;
}

/* Screen reader only content */
.sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
    clip: rect(0, 0, 0, 0);
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .plan-point-card {
        @apply border-2 border-gray-300;
    }

    .preference-badge {
        @apply border border-blue-600;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }

    .spinner {
        @apply animate-none;
    }
}

/* ========================================
   Print Styles
   ======================================== */
@media print {
    .plan-actions,
    .feedback-section,
    .assumptions-toggle,
    .modal-overlay,
    .generation-overlay {
        @apply hidden;
    }

    .plan-day-card {
        @apply break-inside-avoid;
    }

    .assumptions-content {
        @apply block;
    }

    .day-content {
        @apply block;
    }

    .point-expanded {
        @apply block;
    }

    .plan-header,
    .plan-day-card,
    .plan-point-card {
        @apply shadow-none border border-gray-300;
    }
}

/* ========================================
   Loading States
   ======================================== */
.skeleton {
    @apply bg-gray-200 animate-pulse;
}

.skeleton-text {
    @apply h-4 bg-gray-200 rounded animate-pulse;
}

.skeleton-title {
    @apply h-8 bg-gray-200 rounded animate-pulse;
}

/* ========================================
   Tooltips
   ======================================== */
.tooltip {
    @apply absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded shadow-lg whitespace-nowrap z-10;
}

.tooltip::after {
    content: '';
    @apply absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-800;
}

/* ========================================
   Empty States
   ======================================== */
.empty-state {
    @apply text-center py-12 px-4;
}

.empty-state-icon {
    @apply text-6xl mb-4 opacity-50;
}

.empty-state-title {
    @apply text-xl font-semibold text-gray-900 mb-2;
}

.empty-state-description {
    @apply text-gray-600;
}
